<html ng-app="myApp" >
  <head>
    <title>Lab 6</title>
    <script src="https://code.angularjs.org/1.5.0/angular.min.js" ></script>
  </head>
  <body ng-controller="myController">
   
      <div id="search">
        Country or Capital Search:
        <input type="text" ng-model="search" />
      </div>
      <table>
        <tr>
          <th>
            <a href="" ng-click="sortField='name';reverse=!reverse">Country</a>
          </th>
          <th>
            <a href="" ng-click="sortField='population'; reverse=!reverse">Population</a>
          </th>
          <th>
              <a href="" ng-click="sortField='capital'; reverse=!reverse">Capital</a>
          </th>
        </tr>
        <tr  ng-repeat="country in countries | filter: search |
                        orderBy:sortField:reverse">
            <td>{{country.name.common}}</td>
            <td>{{country.population | number}}</td>
            <td>{{country.capital[0]}}</td>
        </tr>
      </table>
      <script>
        var app = angular.module('myApp', []);
  
        app.controller('myController', function ($scope, $http) {
          $scope.search = "bel";

          var url = 'https://restcountries.com/v3.1/all';
          $http.get(url)
            .then(function (response) {
                $scope.countries = response.data;
                console.log($scope.countries);
            });
          
          $scope.sortField = 'name';
          $scope.reverse = false;
          
        });
      </script>
  </body>
</html>
    
